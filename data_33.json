{"url": "https://api.github.com/repos/PyTorchLightning/pytorch-lightning/issues/33", "repository_url": "https://api.github.com/repos/PyTorchLightning/pytorch-lightning", "labels_url": "https://api.github.com/repos/PyTorchLightning/pytorch-lightning/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/PyTorchLightning/pytorch-lightning/issues/33/comments", "events_url": "https://api.github.com/repos/PyTorchLightning/pytorch-lightning/issues/33/events", "html_url": "https://github.com/PyTorchLightning/pytorch-lightning/issues/33", "id": 476582767, "node_id": "MDU6SXNzdWU0NzY1ODI3Njc=", "number": 33, "title": "Enable multiple dataset in validation_step", "user": {"login": "williamFalcon", "id": 3640001, "node_id": "MDQ6VXNlcjM2NDAwMDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3640001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williamFalcon", "html_url": "https://github.com/williamFalcon", "followers_url": "https://api.github.com/users/williamFalcon/followers", "following_url": "https://api.github.com/users/williamFalcon/following{/other_user}", "gists_url": "https://api.github.com/users/williamFalcon/gists{/gist_id}", "starred_url": "https://api.github.com/users/williamFalcon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williamFalcon/subscriptions", "organizations_url": "https://api.github.com/users/williamFalcon/orgs", "repos_url": "https://api.github.com/users/williamFalcon/repos", "events_url": "https://api.github.com/users/williamFalcon/events{/privacy}", "received_events_url": "https://api.github.com/users/williamFalcon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1297090688, "node_id": "MDU6TGFiZWwxMjk3MDkwNjg4", "url": "https://api.github.com/repos/PyTorchLightning/pytorch-lightning/labels/feature", "name": "feature", "color": "a2eeef", "default": false, "description": "Is an improvement or enhancement"}, {"id": 1297090689, "node_id": "MDU6TGFiZWwxMjk3MDkwNjg5", "url": "https://api.github.com/repos/PyTorchLightning/pytorch-lightning/labels/help%20wanted", "name": "help wanted", "color": "008672", "default": true, "description": "Open to be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/PyTorchLightning/pytorch-lightning/milestones/1", "html_url": "https://github.com/PyTorchLightning/pytorch-lightning/milestone/1", "labels_url": "https://api.github.com/repos/PyTorchLightning/pytorch-lightning/milestones/1/labels", "id": 4557930, "node_id": "MDk6TWlsZXN0b25lNDU1NzkzMA==", "number": 1, "title": "v0.4.x", "description": "", "creator": {"login": "williamFalcon", "id": 3640001, "node_id": "MDQ6VXNlcjM2NDAwMDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3640001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williamFalcon", "html_url": "https://github.com/williamFalcon", "followers_url": "https://api.github.com/users/williamFalcon/followers", "following_url": "https://api.github.com/users/williamFalcon/following{/other_user}", "gists_url": "https://api.github.com/users/williamFalcon/gists{/gist_id}", "starred_url": "https://api.github.com/users/williamFalcon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williamFalcon/subscriptions", "organizations_url": "https://api.github.com/users/williamFalcon/orgs", "repos_url": "https://api.github.com/users/williamFalcon/repos", "events_url": "https://api.github.com/users/williamFalcon/events{/privacy}", "received_events_url": "https://api.github.com/users/williamFalcon/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2019-08-08T10:12:58Z", "updated_at": "2021-04-18T08:21:28Z", "due_on": null, "closed_at": "2021-04-18T08:21:28Z"}, "comments": 18, "created_at": "2019-08-04T18:54:45Z", "updated_at": "2019-08-12T19:23:51Z", "closed_at": "2019-08-12T19:23:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Allow validation step to use multiple datasets.\r\n\r\nNeed to also decide how it will be called (especially to handle a case where the two datasets aren't the same length.\r\n\r\nOption A:\r\n```python\r\nfor batch_a in dataset_a:\r\n    model.validation_step(batch_a, batch_nb, dataset_index)\r\n\r\nfor batch_b in dataset_b:\r\n    model.validation_step(batch_b, batch_nb, dataset_index)\r\n```    \r\n\r\nOption B:\r\n```python\r\nfor batches in zip(dataset_a, dataset_b):\r\n    # use both\r\n    # new dynamic signature validation_step(batch_a, batch_b, batch_n, batch_nb)\r\n    model.validation_step(*batches, batch_nb)\r\n```   \r\n\r\nOption C:\r\n(I think this is the only real generic way). The user would have to make sure datasets are the same length or be ok with iterating only as far as the shortest one.\r\n\r\n```python\r\nimport itertools\r\n\r\nfor batches in zip(*itertools.chain(dataset_a, dataset_b, ..., dataset_n)):\r\n    # use both\r\n    # new dynamic signature validation_step(batch_a, batch_b, batch_n, batch_nb)\r\n    model.validation_step(*batches, batch_nb)\r\n```\r\n\r\n@cinjon @ppwwyyxx", "closed_by": {"login": "williamFalcon", "id": 3640001, "node_id": "MDQ6VXNlcjM2NDAwMDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3640001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williamFalcon", "html_url": "https://github.com/williamFalcon", "followers_url": "https://api.github.com/users/williamFalcon/followers", "following_url": "https://api.github.com/users/williamFalcon/following{/other_user}", "gists_url": "https://api.github.com/users/williamFalcon/gists{/gist_id}", "starred_url": "https://api.github.com/users/williamFalcon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williamFalcon/subscriptions", "organizations_url": "https://api.github.com/users/williamFalcon/orgs", "repos_url": "https://api.github.com/users/williamFalcon/repos", "events_url": "https://api.github.com/users/williamFalcon/events{/privacy}", "received_events_url": "https://api.github.com/users/williamFalcon/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/PyTorchLightning/pytorch-lightning/issues/33/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/PyTorchLightning/pytorch-lightning/issues/33/timeline", "performed_via_github_app": null}